# * python scripts/run_train.py --config-dir=$(pwd)/configs/ --config-name=tests

defaults:
  - _self_
  - datasets: chest-xray14-dataset
  - job: test-run
  - models: default-model
  # module configurations
  - ignite: ignite
  - mlflow: local
  - sklearn: classifier
  # overrides:
  - override hydra/job_logging: colorlog
  - override hydra/hydra_logging: colorlog

date: ${now:%Y-%m-%d}
timestamp: ${now:%H-%M-%S}

# hydra settings
hydra:
  job:
    chdir: true
  sweep:
    dir: outputs/${hydra.job.config_name}/${date}/${timestamp}
    subdir: ${hydra.job.override_dirname}
  # sweeper:
  #   params:
  #     datasets.preprocessing.resample_value: 10000,15000
  #     datasets.preprocessing.use_sampling: true
  #     job.use_pretrained: true,false
  #     models.model.model_name: resnet18,mobilenetv2_100,densenet121,inception_v3,xception
  run:
    dir: outputs/${hydra.job.config_name}/${date}/${timestamp}
